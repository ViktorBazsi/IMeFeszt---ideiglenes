<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>IMeFeszt - ne menjünk el egymás mellett</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header>
      <img
        class="logo"
        src="images/ime_feszt_ikon_white.png"
        alt="ez a fesztivál logója"
      />
      <div style="text-align: center">
        <h1>Instant Mecenatúra Fesztivál</h1>
        <p>Ne menjünk el egymás mellett!</p>
      </div>
    </header>
    <div class="container">
      <section id="about">
        <h2>Mi is ez?</h2>
        <p>
          Ez itt Erzsébetváros függetlenszínházainak összefogása. Egy
          nagyszabású adománygyűjtő fesztivál weboldala, ahol adományozhatsz a
          kerület független színházainak! Név szerint ők:
        </p>
        <h5>
          <a class="link" href="https://golemkozpont.hu/" target="_blank"
            >Gólem Színház</a
          >,
          <a
            class="link"
            href="https://kvtarsulat.blogspot.com/"
            target="_blank"
            >Kávé Társulat</a
          >,
          <a
            class="link"
            href="https://www.facebook.com/ratkaiszinhaz/?ref=page_internal"
            target="_blank"
            >Rátkai Márton Színházi Műhely</a
          >,
          <a class="link" href="https://apertura.live/" target="_blank"
            >Apertúra társulat</a
          >,
          <a class="link" href="https://rs9.hu/" target="_blank">Rs9 Színház</a
          >,
          <a class="link" href="http://ter12.hu/" target="_blank"
            >Tér 12 Kulturális Egyesület</a
          >,
          <a class="link" href="http://spinoza.hu/" target="_blank"
            >Spinoza Színház</a
          >
          és a
          <a class="link" href="https://www.bethlenszinhaz.hu" target="_blank"
            >Bethlen téri színház</a
          >.
        </h5>
        <p>
          Ez a weboldal, rajtunk kívül álló okok miatt, de egy ideiglenes oldal,
          részletesebb információkat, képeket találhattok majd a fesztivál
          rendes weboldalán.
        </p>
        <p>
          Egyelőre álljon itt annyi, hogy minden apró támogatás hatalmas
          segítség nekünk, de persze minden hatalmas támogatás is hatalmas
          támogatás nekünk!
        </p>
        <h2 class="money">Eddig összegyűjtött pénz: <span id="moneyAmount">0</span> Forint</h2>
      </section>
    </div>
    <section id="tips">
      <h2 style="text-align: center">Ha nem tudod mennyit adományozz:</h2>
      <div class="gridbox">
        <div class="griditem 1">
          <img class="icon" src="images/puzzle-piece.png" alt="puzzle darab" />
          <h5>Jegy!</h5>
          <p>
            Ez a konstruckió <b>10.000 Forintba</b> kerül, amiért valamelyik
            kerületi csapat bemutatójára kapsz majd a következő évadban 2 darab
            jegyet!
          </p>
          <div class="button">
            <a href="#jump">Érdekel</a>
          </div>
        </div>
        <div class="griditem 1">
          <img class="icon" src="images/puzzle-piece.png" alt="puzzle darab" />
          <h5>Próba!</h5>
          <p>
            Ez a konstruckió <b>20.000 Forintba kerül</b>, amiért valamelyik
            kerületi csapat olvasó, rendelkező és összpróbájára lesz lehetőséged
            elmenni másodmagaddal!
          </p>
          <div class="button"><a href="#jump">Érdekel</a></div>
        </div>
        <div class="griditem 1">
          <img class="icon" src="images/puzzle-piece.png" alt="puzzle darab" />
          <h5>Teljes pakk!</h5>
          <p>
            Ez a konstruckió <b>30.000 Forintba kerül</b>, amiért valamelyik
            kerületi csapat olvas, rendelkező és összpróbájára mehetesz el
            másodmagaddal, továbbá két bemutatójára kapsz majd a következő
            évadban 2 darab jegyet!
          </p>
          <div class="button"><a href="#jump">Érdekel</a></div>
        </div>
        <div class="griditem 1">
          <img class="icon" src="images/puzzle-piece.png" alt="puzzle darab" />
          <h5>Ebád & körbevezetés</h5>
          <p>
            Ez a konstruckió <b>40.000 Forintba kerül</b>, amiért a
            <a style="color: #fcae01" href="http://ter12.hu/" target="_blank">
              Tér 12 Kulturális Egyesület</a>
            elnöke, Viktor Balázs elvisz ebédelni, majd együtt bementek a
            színházba, ahol jól körbevezet, ahol beleláthatsz hogy is néznek ki
            az előadás előtti készülődések, próbák és természetesen meg is
            tekinthetd az adott előadást.
          </p>
          <div class="button"><a href="#jump">Érdekel</a></div>
        </div>
      </div>
    </section>
    <div class="container">
      <section id="donate">
        <h2 id="jump">Bankszámlaszám:</h2>
        <h3>K2 Színház alapítvány: 11708104-21459069</h3>
        <p>
          A közleményben mindeképp tűntesd fel, hogy IMeFeszt adomány! Köszönjük
          szépen, hogy támogatod Erzsébetváros független kultúráját! Amint
          beérkezik az utalás a számlánkra, fel is vesszük veled a kapcsolatot,
          a lenti form azért van, hogy ezt meg tudjuk tenni!
        </p>
        <p>
          Ha "csak úgy" adományoznál, azt is megteheted! Attól még kérünk töltsd
          ki a lenti formot! Ha nem akarod, hogy említsünk, mint adományozó írd
          meg nekünk!
        </p>
        <h5>Köszönjük, az IMeFeszt csapata!</h5>
        <form class="form" id="donationForm">
          <label for="name">Név:</label>
          <input type="text" id="name" name="name" required />

          <label for="email">Email:</label>
          <input type="text" id="email" name="email" required />

          <label for="amount">Melyik puzzle?</label>
          <input
            type="text"
            id="konstrukt"
            name="konstrukt"
            placeholder="jegy / próba / teljes pakk / ebéd & körbevezetés / random összeg"
            required
          />

          <label for="amount">Összeg</label>
          <input type="text" id="amount" name="amount" required />

          <input style="margin-left: 25px" type="submit" value="Adományoztam" />
        </form>
      </section>
    </div>

    <footer>
      <p>"Ne menjünk el egymás mellett!" &copy; 2024 IMeFeszt</p>
    </footer>

    <script>
      document.getElementById('donationForm').addEventListener('submit', function(event) {
        event.preventDefault();

        var name = document.getElementById('name').value;
        var email = document.getElementById('email').value;
        var konstrukt = document.getElementById('konstrukt').value;
        var amount = document.getElementById('amount').value;

        var url = `/donate/${encodeURIComponent(name)}/${encodeURIComponent(email)}/${encodeURIComponent(konstrukt)}/${encodeURIComponent(amount)}`;

        fetch(url, {
          method: 'PUT'
        })
          .then(response => {
            if (!response.ok) {
              throw new Error('Hiba történt az adomány küldése során.');
            }
            return response.json();
          })
          .then(data => {
            alert('Adomány sikeresen elküldve!');
            const moneyAmountElement = document.getElementById('moneyAmount');
            moneyAmountElement.textContent = data;
          })
          .catch(error => {
            console.error('Hiba történt:', error);
            alert('Hiba történt az adomány küldése során.');
          });
      });

      fetch('/donate')
              .then(response => {
                if (!response.ok) {
                  throw new Error('Hiba történt a lekérdezés során.');
                }
                return response.json();
              })
              .then(data => {
                const moneyAmountElement = document.getElementById('moneyAmount');
                moneyAmountElement.textContent = data;
              })
              .catch(error => {
                console.error('Hiba történt:', error);
              });
    </script>
  </body>
</html>
